window.multipleSelect=function(e){return{options:[],selected:[],show:!1,open:function(){this.show=!0},close:function(){this.show=!1},isOpen:function(){return!0===this.show},select:function(e,t){this.options[e].selected?(this.selected.splice(this.selected.lastIndexOf(e),1),this.options[e].selected=!1):(this.options[e].selected=!0,this.options[e].element=t.target,this.selected.push(e)),this.selectedOptions()},remove:function(e,t){this.options[t].selected=!1,this.selected.splice(e,1),this.selectedOptions()},selectedValues:function(){var e=this;return this.selected.map((function(t){return e.options[t].value}))},initOptions:function(t){t=t.map((function(e){return parseInt(e)}));for(var s=document.getElementById(e).options,n=0;n<s.length;n++){var i=this.options.push({value:s[n].value,text:s[n].innerText,selected:-1!==t.indexOf(parseInt(s[n].value))})-1;-1!==t.indexOf(parseInt(s[n].value))&&this.selected.push(i)}this.selectedOptions()},selectedOptions:function(){var t=this.selectedValues();document.getElementById(e).value=null;var s=Array.from(document.querySelectorAll("#"+e+" option"));t.forEach((function(e){s.find((function(t){return t.value===e})).selected=!0}))}}};